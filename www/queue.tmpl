{{define "title"}}
    <title>Queue</title>
{{end}}

{{define "content"}}
    <h3>Matching Tweets</h3>
    <p class="text-muted">
        Messages that match the chosen criteria are shown below. Use the "Queue" button to add the message to the queue of tweets. Use the "Delete" button to remove the message from the list of matched messages.
    </p>
    <br>
    <table class="table table-striped table-outline table-condensed">
        <tr>
            <th>Body</th>
            <th>Author</th>
            <th>Stars</th>
            <th></th>
        </tr>
        {{range $message := .ScrapedMessages}}
            <tr>
                <td>
                    <a href="{{$message.URL}}" target="_blank">
                        <strong>&ldquo;</strong>
                        {{$message.Body}}
                        <strong>&rdquo;</strong>
                    </a>
                </td>
                <td>
                    {{$message.Author}}
                </td>
                <td>
                    &#9733;
                    <strong>{{$message.Stars}}</strong>
                </td>
                <td class="text-right">
                    <form method="post">
                        <input type="hidden" name="id" value="{{$message.ID}}">
                        <button type="submit" name="action" value="queue" class="btn btn-primary btn-xs">Queue</button>
                        <button type="submit" name="action" value="delete" class="btn btn-danger btn-xs">Delete</button>
                    </form>
                </td>
            </tr>
        {{else}}
            <tr>
                <td colspan="4">
                    <div class="text-muted text-center small">Empty</div>
                </td>
            </tr>
        {{end}}
    </table>
    <br>
    <h3>Queued Tweets</h3>
    <p class="text-muted">
        Messages that are queued to be tweeted are shown below. Order shown below is identical to the order they will be tweeted in.
    </p>
    <br>
    <table class="table table-striped table-outline table-condensed">
        <tr>
            <th>Body</th>
            <th>Author</th>
            <th>Stars</th>
            <th></th>
        </tr>
        {{range $message := .QueuedMessages}}
            <tr>
                <td>
                    <a href="{{$message.URL}}" target="_blank">
                        <strong>&ldquo;</strong>
                        {{$message.Body}}
                        <strong>&rdquo;</strong>
                    </a>
                </td>
                <td>
                    {{$message.Author}}
                </td>
                <td>
                    &#9733;
                    <strong>{{$message.Stars}}</strong>
                </td>
                <td class="text-right">
                    <a href="#" class="btn btn-primary btn-xs">Tweet Now</a>
                    <a href="#" class="btn btn-danger btn-xs">Delete</a>
                </td>
            </tr>
        {{else}}
            <tr>
                <td colspan="4">
                    <div class="text-muted text-center small">Empty</div>
                </td>
            </tr>
        {{end}}
    </table>
    <br>
    <h3>Custom Tweet</h3>
    <p class="text-muted">
        Use the form below to tweet a custom message. Keep in mind that tweets are limited to 140 characters (excluding links).
    </p>
    <div class="form-group">
        <label for="message">Message</label>
        <textarea class="form-control" placeholder="Message" rows="4"></textarea>
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
{{end}}
